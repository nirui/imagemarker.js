<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [assertType][1]
    -   [Parameters][2]
-   [assertObjectType][3]
    -   [Parameters][4]
-   [isHTMLElement][5]
    -   [Parameters][6]
-   [filterDefault][7]
    -   [Parameters][8]
-   [test][9]
-   [Events][10]
    -   [add][11]
        -   [Parameters][12]
    -   [remove][13]
        -   [Parameters][14]
    -   [fire][15]
        -   [Parameters][16]
    -   [teardown][17]
-   [Exception][18]
    -   [Parameters][19]
    -   [toString][20]
-   [imagemarker][21]
    -   [Parameters][22]
    -   [Examples][23]
-   [ImageMarker][24]
    -   [Parameters][25]
    -   [teardown][26]
    -   [clear][27]
    -   [open][28]
        -   [Parameters][29]
    -   [refit][30]
    -   [addEventListener][31]
        -   [Parameters][32]
    -   [removeEventListener][33]
        -   [Parameters][34]
-   [Background][35]
    -   [Parameters][36]
    -   [URL][37]
    -   [width][38]
    -   [height][39]
    -   [ratio][40]
    -   [zoom][41]
        -   [Parameters][42]
    -   [zoomable][43]
        -   [Parameters][44]
-   [defaultStageControl][45]
-   [Drawn][46]
    -   [Parameters][47]
    -   [element][48]
    -   [remove][49]
    -   [set][50]
        -   [Parameters][51]
    -   [dimension][52]
    -   [data][53]
-   [Opened][54]
    -   [Parameters][55]
    -   [reset][56]
    -   [zoom][57]
        -   [Parameters][58]
    -   [insert][59]
        -   [Parameters][60]
    -   [compose][61]
        -   [Parameters][62]
    -   [close][63]
-   [Stage][64]
    -   [Parameters][65]
    -   [element][66]
    -   [open][67]
        -   [Parameters][68]
    -   [clear][69]
    -   [teardown][70]
    -   [refit][71]
-   [HandlerResult][72]
    -   [Parameters][73]
-   [UserCtl][74]
    -   [Parameters][75]
    -   [listens][76]
        -   [Parameters][77]
    -   [removes][78]
        -   [Parameters][79]
    -   [teardown][80]

## assertType

Assert given type is the expected one

### Parameters

-   `given`  Given type
-   `expected`  Expected type


-   Throws **UnexpectedTypeException** When the assertion is false

## assertObjectType

Assert given object is the expected type

### Parameters

-   `given` **[Object][81]** Given type
-   `expected` **[Object][81]** Expected type


-   Throws **UnexpectedTypeException** When the assertion is false

## isHTMLElement

Test whether or not given object is a HTML element

### Parameters

-   `el` **[Object][81]** Element

Returns **[boolean][82]** Whether or not it's a HTML element

## filterDefault

Merge the given value with the default value

### Parameters

-   `def` **[Object][81]** Default value
-   `val` **[Object][81]** Given value


-   Throws **UnexpectedTypeException** When the data type in default value failed
                                      to match the one inside of the given one.

Returns **[Object][81]** Merged object

## test

Perform the compatibility test

-   Throws **IncompatibleContextException** When current running context is
                                           incompatibiable with ImageMarker

## Events

Event manager

### add

Insert new event listener into a type

#### Parameters

-   `type` **[string][83]** Type of the target event
-   `listener` **[function][84]** The listener that will be called when event
                               fired

### remove

Remove the given event listener from a type

#### Parameters

-   `type` **[string][83]** Type of the target event
-   `listener` **[function][84]** The listener which was going to be called when
                               event fired

### fire

Fire a event

#### Parameters

-   `type` **[string][83]** Event type
-   `data`  Event data

### teardown

Remove all event listeners

## Exception

Base Exception

### Parameters

-   `message` **[string][83]** The error message

### toString

Return the error message into a string

Returns **[string][83]** The error message

## imagemarker

Creating a new ImageMarker instance

### Parameters

-   `driver` **[Object][81]** stage driver

### Examples

```javascript
import imageMarker from '~ImageMarker/imagemarker.js'
let marker = imageMarker(driver)
```

Returns **[ImageMarker][85]** a new Image Marker instance

## ImageMarker

The main class, manages the status (from creation to destroy) of the
ImageMarker

### Parameters

-   `stageDriver` **[Object][81]** Instance of the stage driver

### teardown

Tears down current instance, unrecoverablely

### clear

Clear current stage without destroying it

### open

Open a new stage

#### Parameters

-   `background` **[Background][86]** Background object
-   `waitLoad` **[boolean][82]** Whether or not to wait until the
                                         background is loaded
-   `controlBuilder` **[Object][81]** Builder of user controls

Returns **[Promise][87]&lt;[Opened][88]>** An opened stage

### refit

Re-adjecting current stage

### addEventListener

Insert new event listener to an internal event

#### Parameters

-   `type` **[string][83]** Type of the target event
-   `listener` **[function][84]** listener

### removeEventListener

Remove a listener from listening an internal event

#### Parameters

-   `type` **[string][83]** Type of the target event
-   `listener` **[function][84]** listener

## Background

Background object

### Parameters

-   `url` **[string][83]** URL address of the background image
-   `width` **[number][89]** Width of the image in px
-   `height` **[number][89]** Height of the image in px

### URL

Return the URL

Returns **[string][83]** 

### width

Return the width of the background image

Returns **[number][89]** 

### height

Return the height of the background image

Returns **[number][89]** 

### ratio

Return the ratio of the background image

Returns **[number][89]** 

### zoom

Return the zoom level according to the given target width and height

#### Parameters

-   `targetWidth` **[number][89]** Target width
-   `targetHeight` **[number][89]** Target height

Returns **[number][89]** The zoom level

### zoomable

Return whether or not given target width and height can be zoomed to

#### Parameters

-   `toWidth` **[number][89]** Target width
-   `toHeight` **[number][89]** Target height

Returns **[boolean][82]** Whether or not zoomable

## defaultStageControl

Creating a default user controls of the stage

Returns **[Object][81]** User controls

## Drawn

Drawn element on the stage

### Parameters

-   `drawn` **[Object][81]** Drawn object

### element

Return the raw element of current drawn object

Returns **[Object][81]** 

### remove

Remove current element from the stage

### set

Set the properties of current drawn object. Actual effect depends on
the stage driver

#### Parameters

-   `properties` **[Object][81]** New properties

### dimension

Return the dimension of current drawn object

Returns **[Object][81]** 

### data

Export the data of current drawn object

Returns **[Object][81]** 

## Opened

Represents an opened stage

### Parameters

-   `stage` **[Stage][90]** Stage object
-   `controls` **[Object][81]** User control builder
-   `events` **[Events][91]** Events manager

### reset

Reset current opened stage to it's initial configuation

### zoom

Zoom the stage

#### Parameters

-   `screenCenterX` **[number][89]** X coordinate of the center view point
-   `screenCenterY` **[number][89]** Y coordinate of the center view point
-   `panXOffset` **[number][89]** X pan offset
-   `panYOffset` **[number][89]** Y pan offset
-   `zoomShift` **[number][89]** Zoom offset

### insert

Insert a drawing

#### Parameters

-   `composeType` **[string][83]** Drawing type
-   `properties` **[Object][81]** Properties
-   `data` **[Object][81]** Drawing data

Returns **[Drawn][92]** Drawn object

### compose

Compose a drawing

#### Parameters

-   `properties` **[Object][81]** Properties
-   `drawingControl` **[Object][81]** User drawning control
-   `composeType` **[string][83]** Drawing type


-   Throws **StageAlreadyComposing** When the stage already at composing
                                    status

Returns **[Promise][87]&lt;[Drawn][92]>** Drawn object

### close

Close current stage

## Stage

Stage control

### Parameters

-   `driver` **[Object][81]** Stage driver
-   `events` **[Events][91]** Event manager

### element

Return current stage element

Returns **[Object][81]** 

### open

Open a new stage

#### Parameters

-   `background` **[Background][86]** Stage background
-   `onSuccess` **[function][84]** Successful callback
-   `onFail` **[function][84]** Failure callback
-   `controls` **[Object][81]** User controls
-   `waitLoad` **[boolean][82]** Whether or not to wait until the background is
                              loaded


-   Throws **StageAlreadyOpened** When the stage already been opened

### clear

Clear current stage

### teardown

Destroy current stage

### refit

Re-adjust current stage

## HandlerResult

Handler result

### Parameters

-   `context`  
-   `continueNext`  

## UserCtl

User control manager

### Parameters

-   `rootElement` **[Object][81]** The root element which the control handler
                                 will be binded to
-   `events` **[Events][91]** Event manager

### listens

Listen to the given UI control listener set

#### Parameters

-   `listeners` **[Object][81]** Listeners set
-   `data` **[Object][81]** Context data which will be delievered to control
                         listeners when control event is fired

### removes

Remove UI control listener set

#### Parameters

-   `listeners` **[Object][81]** Listeners set

### teardown

Destroy current user control manager

[1]: #asserttype

[2]: #parameters

[3]: #assertobjecttype

[4]: #parameters-1

[5]: #ishtmlelement

[6]: #parameters-2

[7]: #filterdefault

[8]: #parameters-3

[9]: #test

[10]: #events

[11]: #add

[12]: #parameters-4

[13]: #remove

[14]: #parameters-5

[15]: #fire

[16]: #parameters-6

[17]: #teardown

[18]: #exception

[19]: #parameters-7

[20]: #tostring

[21]: #imagemarker

[22]: #parameters-8

[23]: #examples

[24]: #imagemarker-1

[25]: #parameters-9

[26]: #teardown-1

[27]: #clear

[28]: #open

[29]: #parameters-10

[30]: #refit

[31]: #addeventlistener

[32]: #parameters-11

[33]: #removeeventlistener

[34]: #parameters-12

[35]: #background

[36]: #parameters-13

[37]: #url

[38]: #width

[39]: #height

[40]: #ratio

[41]: #zoom

[42]: #parameters-14

[43]: #zoomable

[44]: #parameters-15

[45]: #defaultstagecontrol

[46]: #drawn

[47]: #parameters-16

[48]: #element

[49]: #remove-1

[50]: #set

[51]: #parameters-17

[52]: #dimension

[53]: #data

[54]: #opened

[55]: #parameters-18

[56]: #reset

[57]: #zoom-1

[58]: #parameters-19

[59]: #insert

[60]: #parameters-20

[61]: #compose

[62]: #parameters-21

[63]: #close

[64]: #stage

[65]: #parameters-22

[66]: #element-1

[67]: #open-1

[68]: #parameters-23

[69]: #clear-1

[70]: #teardown-2

[71]: #refit-1

[72]: #handlerresult

[73]: #parameters-24

[74]: #userctl

[75]: #parameters-25

[76]: #listens

[77]: #parameters-26

[78]: #removes

[79]: #parameters-27

[80]: #teardown-3

[81]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[82]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[83]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[84]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[85]: #imagemarker

[86]: #background

[87]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[88]: #opened

[89]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[90]: #stage

[91]: #events

[92]: #drawn
